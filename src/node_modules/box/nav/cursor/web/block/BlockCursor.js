import { Grid }             from '@material-ui/core'

import React, { Component } from 'react'
import compose              from 'recompose/compose'
import withStateHanlders    from 'recompose/withStateHandlers'
import styled               from 'styled-components'


import Container            from '../Container'
import Content              from '../Content'
import Link                 from '../Link'


const Block = styled(Container)`
  width: 100%;
  height: 100%;

  position: relative;
`

const enhance = compose(
  withStateHanlders(
    () => ({
      index: 0,
    }),
    {
      indexSet: () => (index) => ({ index }),
    }
  ),
)

const BlockAnimated = enhance(({
  index, indexSet,
}) => {
  return (
    <Block>
      <Content current={index} index={0}>
        <Grid container justify='center'>
          <Grid item>
            CONTENT 1
          </Grid>
        </Grid>
        <Grid container justify='space-between'>
          <Grid item>
            <Link content='FOO'>
              Link1
            </Link>
          </Grid>
          <Grid item>
            <Link content='BAR'>
              Link2
            </Link>
          </Grid>
        </Grid>
        <div style={{ paddingTop: 100 }} />
        <Grid container justify='space-between'>
          <Grid item>
            <Link content='BEEN'>
              Link3
            </Link>
          </Grid>
          <Grid item>
            <Link
              content='CAN'
              size='medium'
              onClick={() => indexSet(1)}
            >
              NEXT
            </Link>
          </Grid>
        </Grid>
      </Content>
      <Content current={index} index={1}>
        <Grid container justify='center'>
          <Grid item>
            CONTENT 2
          </Grid>
        </Grid>
        <Grid container justify='space-between'>
          <Grid item>
            <Link
              content='FOO'
              size='medium'
              onClick={() => indexSet(0)}
            >
              PREVIOUS
            </Link>
          </Grid>
          <Grid item>
            <Link content='BAR'>
              Link2
            </Link>
          </Grid>
        </Grid>
        <div style={{ paddingTop: 100 }} />
        <Grid container justify='space-between'>
          <Grid item>
            <Link content='BEEN'>
              Link3
            </Link>
          </Grid>
          <Grid item>
            <Link
              content='CAN'
              size='medium'
              onClick={() => indexSet(2)}
            >
              NEXT
            </Link>
          </Grid>
        </Grid>
      </Content>
      <Content current={index} index={2}>
        <Grid container justify='center'>
          <Grid item>
            CONTENT 3
          </Grid>
        </Grid>
        <Grid container justify='space-between'>
          <Grid item>
            <Link
              content='FOO'
              size='medium'
              onClick={() => indexSet(1)}
            >
              PREVIOUS
            </Link>
          </Grid>
          <Grid item>
            <Link content='BAR'>
              Link2
            </Link>
          </Grid>
        </Grid>
        <div style={{ paddingTop: 100 }} />
        <Grid container justify='space-between'>
          <Grid item>
            <Link content='BEEN'>
              Link3
            </Link>
          </Grid>
          <Grid item>
            <Link
              content='CAN'
              size='medium'
            >
              Link4
            </Link>
          </Grid>
        </Grid>
      </Content>      
    </Block>
  )
})

export default BlockAnimated